# CLAUDE.md

以下の要件のソフトウェアを作成します。

1. 機能要件

 - 指定したファイルを読み込みます。
 - 段落ごとに文書を分割します。
 - 分割した文書をカードオブジェクトとして管理します。
 - カードオブジェクトは、状態、文書中の位置、分割した文書、を持ちます。
 - カードオブジェクトの状態は、未処理、処理中、処理済みのいずれかです。
 - カードオブジェクトの文書中の位置は、先頭からの連番とします。
 - カードオブジェクトを画面表示します。
 - カードオブジェクトを選択し、状態、文書中の位置、分割した文書をそれぞれ編集可能とします。

2. 非機能要件
 - カードオブジェクトが大量に存在する場合でも、快適に操作できること。

3. 技術スタック
 - electronで作成します。

4. UI/UX要件（追加）
 - ファイル選択：ドラッグ&ドロップまたはファイルダイアログ
 - カード表示：縦スクロール可能なリスト形式
 - 編集UI：インライン編集（ダブルクリックで編集モード）
 - 状態表示：色分けによる視覚的な状態表示

5. ファイル形式要件（追加）
 - 対応形式：テキストファイル（.txt, .md）
 - エンコーディング：UTF-8
 - 最大ファイルサイズ：10MB

6. 段落分割仕様（追加）
 - 区切り文字：連続する改行（\n\n）
 - 空行のみの段落は除外
 - 先頭・末尾の空白文字は除去

7. データ永続化（追加）
 - カード状態はメモリ上で管理（セッション単位）
 - 編集内容の自動保存
 - 元ファイルの変更は行わない

8. 性能要件詳細（追加）
 - 最大カード数：10,000件
 - カード表示応答時間：100ms以内
 - 仮想スクロールによる大量データ対応

## 開発コマンド
- `npm install` - 依存関係のインストール
- `npm start` - 開発サーバー起動
- `npm run build` - プロダクションビルド
- `npm run electron` - Electronアプリ起動
- `npm test` - テスト実行

## アーキテクチャ概要
- **Main Process**: Electronのメインプロセス、ファイル操作とウィンドウ管理
- **Renderer Process**: Reactベースの画面表示とユーザー操作
- **Card Manager**: カードオブジェクトの管理とビジネスロジック
- **Text Processor**: ファイル読み込みと段落分割処理
- **Virtual List**: 大量データ表示のための仮想スクロール

## プロジェクト構成
```
src/
  main/           # Electronメインプロセス
  renderer/       # React UIコンポーネント
  models/         # データモデル
  services/       # ビジネスロジック
  utils/          # ユーティリティ関数
```